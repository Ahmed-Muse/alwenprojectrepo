{% extends 'bases/base.html'%}
{% load static %}
{% load humanize %}
{% load crispy_forms_tags %}
{% block title %}
{{title}}
{% endblock %}
{% block style %}
   
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">


<!--FontAwesome CDN ...necessary for the icons-->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"
    integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">

<script src="{% static 'js/chart.min.js' %}">/*Remember that this is a dist file.... source is: 
https://cdn.jsdelivr.net/npm/chart.js@3.8.0/dist/chart.min.js*/

</script>
<!--Chartjs CDN-->
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>

<style>
    /* Extra small devices (phones, 600px and down) */
@media only screen and (max-width: 600px) {}

/* Small devices (portrait tablets and large phones, 600px and up) */
@media only screen and (min-width: 600px) {}

/* Medium devices (landscape tablets, 768px and up) */
@media only screen and (min-width: 768px) {}

/* Large devices (laptops/desktops, 992px and up) */
@media only screen and (min-width: 992px) {}

/* Extra large devices (large laptops and desktops, 1200px and up) */
@media only screen and (min-width: 1200px) {}

/* .............. note that 1cm = 37.8px.....................*/

  
    body {
        /*background-color: #F6F7F8;*/
        font-size: 2rem;
        opacity: 1;
        position:sticky;
        overflow: auto;
        text-align: left;
        max-width: 100%; 
        background-color: #F6F7F8;
        margin: auto;
        padding: auto;
        

    }
   
    .container{
      background-color: #F6F7F8;
      }
    .container tr:hover {
      background-color: #FFF;
      color: black;
    }
    table{
      background-color: #F6F7F8;
    }
.mybuttonlinks{
    margin-top: 7px; margin-left: 7px;
    margin-bottom: 5px;
 
}
#allif-section-headers{
    background-color: #e9eaec;
    color: black;
    font-size: 16px;
    text-align: center;
}
#allif-link-buttons{
    background-color: #F6F7F8;
    color: black;
}
#allif-link-buttons:hover {
    background-color: #714b67;
    color: white;
}


a:link{
  text-decoration: none;
  
}
       
                      
/************************************************************* starting of styling for extra small mobiles*/
@media screen and (min-width:200px) and (max-width:800px) {
        /*@media screen and (min-width: 700px) and (max-width:800px) {}*/
        /*.sidenav {padding-top: 15px;}*/
        /*.sidenav a {font-size: 18px;}*/
        .container {
            
            margin-top: 110px;
            /*display: inline-block;
            overflow: auto;*/
            font-size: 0.95rem;
           
            
            color:black;
            overflow: auto;
            overflow-x: scroll;
            overflow-y: scroll;
            height: 480px;
          
        }
        .mycomments{
          display: none;
        }
       
      }
/*********************************************************** end of styling for extra small mobiles*/

  
 
/************************************************************* starting of styling for extra small mobiles*/
@media screen and (min-width:800px) and (max-width:1000px) {
        /*@media screen and (min-width: 700px) and (max-width:800px) {}*/
        /*.sidenav {padding-top: 15px;}*/
        /*.sidenav a {font-size: 18px;}*/
        .container{
            
            /*display: inline-block;
            overflow: auto;*/
            font-size: 0.95rem;
           
            margin-top: 8px;
            margin-left: auto;
            padding-left: 90px;
            
        }
        
      }
/*********************************************************** end of styling for extra small mobiles*/

 
/************************************************************* starting of styling for extra small mobiles*/
@media screen and (min-width:1000px) and (max-width:2000px) {
        /*@media screen and (min-width: 700px) and (max-width:800px) {}*/
        /*.sidenav {padding-top: 15px;}*/
        /*.sidenav a {font-size: 18px;}*/
        .container {
            
            margin-top: 10px;
            display: block;
           
            font-size: 0.95rem;
            
            margin-left:auto ;
            
            margin-right: auto;
            margin: auto;
            padding-left: 90px;
            
        }
        
      }
/*********************************************************** end of styling for extra small mobiles*/

/************************************************************* starting of styling for extra small mobiles*/
@media screen and (min-width:2000px)  {
        /*@media screen and (min-width: 700px) and (max-width:800px) {}*/
        /*.sidenav {padding-top: 15px;}*/
        /*.sidenav a {font-size: 18px;}*/
       .container {
            
            margin-top: 10px;
            display: block;
            overflow: auto;
            font-size: 1.00rem;
            
            margin-left: 120px;
            overflow-x: hidden;
            margin-right: 20px;
           
        }
      }
/*********************************************************** end of styling for extra small mobiles*/
 
    </style>
   {%endblock%}
   
   {% block body %}
 
<div class="container"><!--start of main container of the page--...#17a2b8;  -->

    <!--start of first row-->
    <div class="row mt-12" >
        
        <div class="col-md-4">
            <div class="card">
                <div id="allif-section-headers" class="card-header ">
                   Quick Links
                </div>
                <div >
                    
                
                    <a  href="{% url 'logistics:allif_invoice_job' my_job_id.id %}">
                    <button id="allif-link-buttons" type="button" class="btn btn-success mybuttonlinks" >
                    Release</button></a>
                    <a  href="{% url 'logistics:alwen_job_invoice_pdf' my_job_id.id %}" >
                    <button id="allif-link-buttons" type="button" class="btn btn-success mybuttonlinks" >
                    Invoice Pdf</button></a>
                    <a href="{% url 'logistics:allif_job_transaction_report_pdf' my_job_id.id %}">
                      <button id="allif-link-buttons" class="btn btn-success">Job Report</button>
                    </a>
                    
                    </div>

<!----------------------------------------------start of row----------------------------------------------------->
<div class="row mt-12">
<div class="col-md-6" ><!--start of the first row body-->
      <div class="col-md-12"><!--start of column 1-->
        <form method='POST' action=''>{% csrf_token %}
          <div class="card my-card shadow text-left p-3">
          <label>Customer</label>{{form.customer}}
          <label>Description</label> {{form.description}} 
          <label>Vehicle</label>{{form.vehicle}}
          <label>Operator</label>{{form.driver}} 
         
          <label>Starting Odometer</label>{{form.starting_odometer}}
          <label>Ending Odometer</label>{{form.ending_odometer}}
         
          
          </div>
         
        
      </div><!--end of column 1-->
      
</div><!--end of first row body-->

<div class="col-md-6"><!--start of the first row body-->
  <div class="col-md-12"><!--start of column 1-->
    
      <div class="card my-card shadow text-left p-3">
      
      <label>Ending Date</label>{{form.ending_date}}
      
      <label>Status</label>{{form.status}}
      <label>Uplift</label>{{form.uplift}}
      <label>Delivery</label>{{form.delivery}}
      <label>Comments</label>{{form.comments}}
      
      </div>
      <br>
      <input type="submit" value='Update' class="btn btn-success btn-block">
    </form>
    
  </div><!--end of column 1-->
  
</div><!--end of first row body-->
</div>
<!----------------------------------------------end of row----------------------------------------------------->
     
            </div>
        </div>

    <div class="col-md-8">
        <div class="card">
            <div id="allif-section-headers" class="card-header">
                
               Job: {{my_job_id}}


            </div>
            <div class="col-md-12">
        <!--start of the table-->
            
        <table class="table">
          <thead>
            <tr>
              
              <th scope="col">Item</th>
              <th scope="col">Quantity</th>
              <th scope="col"> Unit Cost</th>
              <th scope="col" style="background-color: rgb(250, 197, 184); padding-right: 10px;"> Line Cost</th>
              <th scope="col"> Unit Price</th>
              <th scope="col" style="background-color: rgb(12, 177, 1);"> Selling Price</th>
             
            </tr>
          </thead>
          <tbody id="tbody">
            
            {% for item in job_Items %}
            <tr>
               
        
              <td>{{item.description}}</td>
              <td>{{item.quantity}}</td>
              <td>{{item.unit_cost|intcomma}}</td>
              <td style="background-color: rgb(250, 197, 184);">{{item.lineamount|intcomma}}</td>
              <td>{{item.unit_price|floatformat:2|intcomma}}</td>
              <td style="background-color: rgb(12, 177, 1);padding-right: 10px;">{{item.sellingamount|floatformat:2|intcomma}}</td>
        
            
            </tr>
            
            {% endfor %}
            
          </tbody>
          
          <strong>
          <tr>
            <td ><strong>Total</strong></td><td></td><td></td><td> <strong>{{total_cost|floatformat:2|intcomma}}</strong></td><td></td><td>
              <strong>{{invoiceTotal|floatformat:2|intcomma}}</strong></td>
          
          </tr></strong>
        </table>


     
        <!--end of table-->
            </div>
        </div></div></div>
        <!-- end of first row-->
</div><!--end of main container of the page-->

   {% endblock %}





